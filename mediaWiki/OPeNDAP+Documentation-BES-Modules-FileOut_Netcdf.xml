<mediawiki xmlns="http://www.mediawiki.org/xml/export-0.11/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd" version="0.11" xml:lang="en">
  <siteinfo>
    <sitename>OPeNDAP Documentation</sitename>
    <dbname>wikidb</dbname>
    <base>https://docs.opendap.org/index.php/Home</base>
    <generator>MediaWiki 1.38.4</generator>
    <case>first-letter</case>
    <namespaces>
      <namespace key="-2" case="first-letter">Media</namespace>
      <namespace key="-1" case="first-letter">Special</namespace>
      <namespace key="0" case="first-letter" />
      <namespace key="1" case="first-letter">Talk</namespace>
      <namespace key="2" case="first-letter">User</namespace>
      <namespace key="3" case="first-letter">User talk</namespace>
      <namespace key="4" case="first-letter">OPeNDAP Documentation</namespace>
      <namespace key="5" case="first-letter">OPeNDAP Documentation talk</namespace>
      <namespace key="6" case="first-letter">File</namespace>
      <namespace key="7" case="first-letter">File talk</namespace>
      <namespace key="8" case="first-letter">MediaWiki</namespace>
      <namespace key="9" case="first-letter">MediaWiki talk</namespace>
      <namespace key="10" case="first-letter">Template</namespace>
      <namespace key="11" case="first-letter">Template talk</namespace>
      <namespace key="12" case="first-letter">Help</namespace>
      <namespace key="13" case="first-letter">Help talk</namespace>
      <namespace key="14" case="first-letter">Category</namespace>
      <namespace key="15" case="first-letter">Category talk</namespace>
    </namespaces>
  </siteinfo>
  <page>
    <title>BES - Modules - FileOut Netcdf</title>
    <ns>0</ns>
    <id>434</id>
    <revision>
      <id>12085</id>
      <parentid>12084</parentid>
      <timestamp>2015-12-08T17:18:31Z</timestamp>
      <contributor>
        <username>Jimg</username>
        <id>3</id>
      </contributor>
      <minor/>
      <comment>/* Status */</comment>
      <origin>12085</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="3366" sha1="2u4pqqz5y9awz1ovfxu06ca298klxhi" xml:space="preserve">==Description==
The File Out NetCDF module provides the ability to return OPeNDAP DataDDS objects as netcdf files. The module takes an OPeNDAP DataDDS and translates the attributes, data structure, and data into a netcdf file and streams the resulting file back to the caller. Currently, simple types, arrays, structures and grids are supported. Sequences are not yet supported.
&lt;br&gt;&lt;br&gt;
Go to [[BES_File_Out_NetCDF|this page]] for more information on the specifics of how OPeNDAP data objects are written to NetCDF.

==Status==
Stable release 1.3.2 with Hyrax 1.12

==Services Handled==
This module does not handle any services but adds to an existing service

==Services Provided==
The module provides an additional format to the &lt;code&gt;dap&lt;/code&gt; service's &lt;code&gt;dods&lt;/code&gt; command. The format is used to specify a "returnAs" format. Typically you will see responses of the dap2 format. This module provides the additional format of returning the OPenDAP data object as a netcdf file.

==Download==
The latest version of this handler is included in the BES RPM distribution as of Hyrax 1.12, which you can download from the [http://opendap.org/download/hyrax Hyrax download page]. You can get the source code for this module from the [https://github.com/OPENDAP/bes BES] or [https://github.com/OPENDAP/fileout_netcdf fileout_netcdf] projects from guthub. The BES project can be used to all of the source we use when building the bES for inclusion in the Hyrax releases; the fileout_netcdf project can be used to get just the source code for the module.

==How to use the module==
Once installed, the fonc.conf file is installed in the BES etc/bes/modules directory and is automatically loaded by the BES at startup. There is a configuration option that you can change for this module. The &lt;code&gt;FONc.Tempdir&lt;/code&gt; parameter in the fonc.conf configuration file tells the module where to store the netcdf files generated by the module until the file is streamed back to the caller. The default value for this parameter is the /tmp directory. You should change this to a location where there is plenty of disk space/quota that is owned by the user set to run the BES.

 FONc.Tempdir=/tmp

Other BES keys that can be used to control the handler's behavior:

 FONc.UseCompression=true

Use compression when making netCDF4 files; true by default

 FONc.ChunkSize=4096

The default chunk size when making netCDF4 files, in KBytes (4k by default)

 FONc.ClassicModel=true

When making a netCDF4 file, use only the 'classic' netCDF data model; true by default.

The next time the BES is started it will load this module. And, once installed, the OLFS will know that it can use this module to transform your data. Next to a dataset you will see the list of data products provided for that dataset. This will include a link for File Out Netcdf.

If not using the OLFS to serve your data, for example if using the bescmdln, you would run a command file that would look something like this:

&lt;pre&gt;
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;request reqID="some_unique_value" &gt;
    &lt;setContext name="dap_format"&gt;dap2&lt;/setContext&gt;
    &lt;setContainer name="c" space="catalog"&gt;data/nc/fnoc1.nc&lt;/setContainer&gt;
    &lt;define name="d"&gt;
	&lt;container name="c" /&gt;
    &lt;/define&gt;
    &lt;get type="dods" definition="d" returnAs="netcdf"/&gt;
&lt;/request&gt;
&lt;/pre&gt;

[[Category:BES Modules|FileOut Netcdf]]</text>
      <sha1>2u4pqqz5y9awz1ovfxu06ca298klxhi</sha1>
    </revision>
  </page>
</mediawiki>
