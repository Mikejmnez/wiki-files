<mediawiki xmlns="http://www.mediawiki.org/xml/export-0.11/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mediawiki.org/xml/export-0.11/ http://www.mediawiki.org/xml/export-0.11.xsd" version="0.11" xml:lang="en">
  <siteinfo>
    <sitename>OPeNDAP Documentation</sitename>
    <dbname>wikidb</dbname>
    <base>https://docs.opendap.org/index.php/Home</base>
    <generator>MediaWiki 1.38.4</generator>
    <case>first-letter</case>
    <namespaces>
      <namespace key="-2" case="first-letter">Media</namespace>
      <namespace key="-1" case="first-letter">Special</namespace>
      <namespace key="0" case="first-letter" />
      <namespace key="1" case="first-letter">Talk</namespace>
      <namespace key="2" case="first-letter">User</namespace>
      <namespace key="3" case="first-letter">User talk</namespace>
      <namespace key="4" case="first-letter">OPeNDAP Documentation</namespace>
      <namespace key="5" case="first-letter">OPeNDAP Documentation talk</namespace>
      <namespace key="6" case="first-letter">File</namespace>
      <namespace key="7" case="first-letter">File talk</namespace>
      <namespace key="8" case="first-letter">MediaWiki</namespace>
      <namespace key="9" case="first-letter">MediaWiki talk</namespace>
      <namespace key="10" case="first-letter">Template</namespace>
      <namespace key="11" case="first-letter">Template talk</namespace>
      <namespace key="12" case="first-letter">Help</namespace>
      <namespace key="13" case="first-letter">Help talk</namespace>
      <namespace key="14" case="first-letter">Category</namespace>
      <namespace key="15" case="first-letter">Category talk</namespace>
    </namespaces>
  </siteinfo>
  <page>
    <title>New Debugging</title>
    <ns>0</ns>
    <id>448</id>
    <revision>
      <id>3419</id>
      <timestamp>2009-03-09T12:56:41Z</timestamp>
      <contributor>
        <username>PatrickWest</username>
        <id>4</id>
      </contributor>
      <comment>New page: For example:   besctl start -d "bes.debug,all"  This will dump all debug statements to the file bes.debug in the same directory from where you started the BES.  And adding debug statements...</comment>
      <origin>3419</origin>
      <model>wikitext</model>
      <format>text/x-wiki</format>
      <text bytes="1790" sha1="pl9fdtp2onrbs0w91dvcmn5ugqlxk5v" xml:space="preserve">For example:

 besctl start -d "bes.debug,all"

This will dump all debug statements to the file bes.debug in the same directory from where you started the BES.

And adding debug statements to your code is easy.

  BESDEBUG( "&lt;context&gt;", "I am here" &lt;&lt; endl )

The first parameter to this macro is the context of debugging. For example, if you are debugging the netcdf_handler you would use "nc" as the context. In the BES there is the bes context, ppt for the transport context, server for the server specific context, cmdln for the bescmdln specific debugging. After the context you can add anything that would be accepted by ostream. And, all BES classes are inherited from a single class, BESObj. This class has a method on it that allows you to dump the contents of that object to an ostream. All classes generated by the besCreateModule script also implement this dump method. For example, using the example hello world module provided in the BES source tree:

&lt;pre&gt;
void
SayResponseHandler::dump( ostream &amp;strm ) const
{
    strm &lt;&lt; BESIndent::LMarg &lt;&lt; "SayResponseHandler::dump - ("
			     &lt;&lt; (void *)this &lt;&lt; ")" &lt;&lt; endl ;
    BESIndent::Indent() ;
    BESResponseHandler::dump( strm ) ;
    BESIndent::UnIndent() ;
}
&lt;/pre&gt;

In order to dump an object all you have to do is:

&lt;pre&gt;
SayResponseHandler *handler = new SayResponseHandler( "say" ) ;
BESDEBUG( "handler = " &lt;&lt; *handler &lt;&lt; endl )
&lt;/pre&gt;

In your Module class you should register your context, so that when -h is specified to beslistener you can see all context available for debugging. To register, in your Module class in the initialize method simply add the following line:

&lt;pre&gt;
BESDebug::Register( "&lt;context&gt;" ) ;
&lt;/pre&gt;

where context is your component name (nc for netcdf_handler, ff for freeform_handler, etc...)</text>
      <sha1>pl9fdtp2onrbs0w91dvcmn5ugqlxk5v</sha1>
    </revision>
  </page>
</mediawiki>
